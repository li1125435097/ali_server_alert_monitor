# 阿里云服务器监控告警系统

## 一、系统功能
- 监控服务器集群状态，超过阈值，触发告警。为啥不用云平台提供的监控，阿里云监控系统bug多，控制粒度小

## 二、系统实现
- 使用aliyun cli获取内网标签服务器IP
- 使用ssh命令向服务器发送监控命令
- 把监控命令与阈值对比，大于阈值的，生成邮件内容
- 如果邮件内容不为空，使用mailx cli向告警通知人发送邮件

## 三、系统应用
- 本系统实现告警功能，可以对接告警修复系统
- 本系统可以在被调度于本机定时任务，也可被调度于阿里云云助手定时任务

## 四、系统缺点
- 目前还是单线程实现，效率低，一台服务器耗时0.5秒，如果集群两百台服务器，执行时间约为2分钟

## 五、系统运行
``` bash
cd ~
git clone git@github.com:li1125435097/ali_server_alert_monitor.git
bash ./ali_server_alert_monitor/apps/monitor
```
